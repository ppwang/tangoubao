<div ng-repeat="message in messages"  ng-click="showContent = !showContent; markRead(message)">
    <span ng-class="'glyphicon glyphicon-envelope ' + (message.isRead ? 'tgb-message-read-color' : 'tgb-primary-color')"></span>
    <span>来自<span class="tgb-primary-color">{{message.creatorName}}</span>的消息</span>
    <span>{{message.createdAt | date:'yyyy年MM月dd日'}}</span>
    <br>
    <span>{{message.messageTitle}}</span>
    <br>
    <div ng-show="showContent">
	    <span ng-switch="message.messageType" >
	    	<span ng-switch-when="sendEmailVerification">
	    		Welcome to TuanGouBao! Here is a link to send verification email again: 
	    		<a ng-click="sendEmailVerification()">Verify email</a>
	    	</span>
	    	<span ng-switch-default>
	    		{{message.messageBody}}
	    	</span>
	    </span>
    </div>
</div>